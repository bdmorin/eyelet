{
  "timestamp": "2025-07-29T16:29:39.069564",
  "timestamp_unix": 1753824579.069564,
  "hook_type": "PreToolUse",
  "tool_name": "Bash",
  "session_id": "54fdad9f-00f2-4c7a-8f11-7da7b149c513",
  "transcript_path": "/Users/bdmorin/.claude/projects/-Users-bdmorin-src-claude-hooks/54fdad9f-00f2-4c7a-8f11-7da7b149c513.jsonl",
  "cwd": "/Users/bdmorin/src/claude-hooks",
  "environment": {
    "python_version": "3.12.10 (main, Apr  9 2025, 03:49:38) [Clang 20.1.0 ]",
    "platform": "darwin",
    "eyelet_version": "0.2.0",
    "env_vars": {
      "CLAUDE_CODE_ENTRYPOINT": "cli",
      "CLAUDE_PROJECT_DIR": "/Users/bdmorin/src/claude-hooks",
      "CLAUDE_CODE_ENABLE_TELEMETRY": "1"
    }
  },
  "input_data": {
    "session_id": "54fdad9f-00f2-4c7a-8f11-7da7b149c513",
    "transcript_path": "/Users/bdmorin/.claude/projects/-Users-bdmorin-src-claude-hooks/54fdad9f-00f2-4c7a-8f11-7da7b149c513.jsonl",
    "cwd": "/Users/bdmorin/src/claude-hooks",
    "hook_event_name": "PreToolUse",
    "tool_name": "Bash",
    "tool_input": {
      "command": "uv run python << 'EOF'\nimport json\nimport jsonschema\nfrom eyelet.cli.validate import get_embedded_schema\n\n# Load schema\nschema = get_embedded_schema()\n\n# Test data\nsettings = {\n    \"hooks\": [\n        {\n            \"type\": \"PreToolUse\",\n            \"handler\": {\n                \"type\": \"command\",\n                \"command\": \"echo test\"\n            },\n            \"matcher\": \".*\"\n        }\n    ]\n}\n\n# Debug\nprint(\"Schema hooks definition:\")\nprint(json.dumps(schema['properties']['hooks'], indent=2))\n\ntry:\n    jsonschema.validate(settings, schema)\n    print(\"\\nValidation passed!\")\nexcept jsonschema.ValidationError as e:\n    print(f\"\\nValidation error: {e.message}\")\n    print(f\"Path: {list(e.path)}\")\n    print(f\"Schema path: {list(e.schema_path)}\")\n    print(f\"Validator: {e.validator}\")\n    print(f\"Instance: {e.instance}\")\nEOF",
      "description": "Debug validation error"
    }
  },
  "metadata": {
    "log_file": "/Users/bdmorin/src/claude-hooks/eyelet-hooks/PreToolUse/Bash/2025-07-29/20250729_162939_069564_PreToolUse_Bash.json",
    "log_dir": "/Users/bdmorin/src/claude-hooks/eyelet-hooks/PreToolUse/Bash/2025-07-29",
    "project_dir": "/Users/bdmorin/src/claude-hooks"
  },
  "execution": {
    "status": "success",
    "duration_ms": 4,
    "output_data": {
      "action": "logged"
    },
    "error_message": null
  },
  "completed_at": "2025-07-29T16:29:39.073861"
}